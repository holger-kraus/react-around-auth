{"version":3,"sources":["images/logo-white.svg","images/success.svg","images/failure.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmationPopup.js","components/InfoTooltip.js","utils/api.js","utils/authentication.js","components/App.js","utils/utils.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","className","alt","src","logo","loggedIn","email","to","link","onClick","onLogout","description","Footer","CurrentUserContext","React","createContext","name","about","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","numberOfLikes","length","data-id","style","backgroundImage","href","onCardClick","event","stopPropagation","preventDefault","onCardDelete","onCardLike","Main","onEditAvatar","avatar","onEditProfile","onAddPlace","cards","map","index","key","Login","emailRef","useRef","passwordRef","action","onSubmit","e","onSignin","current","value","password","noValidate","htmlFor","ref","id","type","placeholder","required","Register","onSignup","ProtectedRoute","component","exact","path","children","PopupWithForm","isOpenClass","isOpen","submitInactiveClass","isSubmitActive","title","submitText","onClose","EditProfilePopup","useState","setName","nameErrorMessage","setNameErrorMessage","setDescription","descriptionErrorMessage","setDescriptionErrorMessage","useEffect","showNameError","showDescriptionError","onUpdateUser","minLength","maxLength","pattern","onChange","target","onInput","validity","valid","validationMessage","EditAvatarPopup","avatarLinkRef","errorMessage","setErrorMessage","showError","onUpdateAvatar","AddPlacePopup","setTitle","titleErrorMessage","setTitleErrorMessage","setLink","linkErrorMessage","setLinkErrorMessage","showTitleError","showLinkError","ImagePopup","ConfirmationPopup","onConfirmation","confirmedObject","InfoToolTip","message","success","icon","successIcon","failureIcon","api","options","this","baseUrl","headers","profileUri","concat","_getResource","body","JSON","stringify","_sendRequestWithBody","avatarLink","cardsUri","cardId","_addLike","_deleteLike","cardUri","_sendRequestWithoutBody","likeUri","uri","fetch","then","res","ok","json","Promise","reject","status","method","authentication","signupUri","signinUri","token","identityUri","withRouter","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIssEditAvatarPopupOpen","isConfirmationPopupOpen","setIsConfirmationPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setSuccess","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setCurrentUser","setCards","setSubmitText","setLoggedIn","userEmail","setUserEmail","history","useHistory","closeAllPopups","getProfile","myProfile","catch","err","console","log","getInitialCards","initialCards","forEach","push","localStorage","getItem","getMyIdentity","data","Provider","signin","setItem","signup","removeItem","changeLikeCardStatus","newCard","newCards","c","updateProfile","addCard","updateProfilePicture","deleteCard","remainingCards","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.6fbc93fa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-white.8f7611ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/failure.4072126c.svg\";","import React from 'react';\nimport logo from \"../images/logo-white.svg\";\nimport {Link} from \"react-router-dom\";\n\nfunction Header(props) {\n    return (\n        <header className=\"header\">\n            <img className=\"header__logo\" alt=\"logo\" src={logo}/>\n            <p className=\"header__email\">{props.loggedIn ? props.email : ''}</p>\n            <Link to={props.link.to} className=\"header__link\" onClick={props.onLogout ? props.onLogout : null}>{props.link.description}</Link>\n        </header>\n    );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">Â© 2020 Holger Kraus</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext({name: \"Holger\", about: \"nothing\"});","import React from 'react';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    // Check if card was created by the current user\n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (`element__remove ${isOwn ? '' : 'element__remove_hide'}`);\n\n    // Check if the card was liked by the current user\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_liked' : ''}`);\n\n    const numberOfLikes = props.card.likes.length;\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        props.onCardLike(props.card);\n    }\n\n    function handleCardDelete(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        props.onCardDelete(props.card);\n    }\n\n    return (\n            <li className=\"element\" data-id=\"#\">\n                <a className=\"element__link\" style={{ backgroundImage: `url(${props.card.link})` }} href=\"#\" onClick={handleCardClick}>\n                    <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\n                    <div className=\"element__title-container\">\n                        <h2 className=\"element__title\">{props.card.name}</h2>\n                        <div className=\"element__like\">\n                            <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                            <span className=\"element__like-count\">{numberOfLikes}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <button className=\"profile__avatar\" onClick={props.onEditAvatar}>\n                    <img className=\"profile__avatar-image\" alt=\"profile avatar\" src={currentUser.avatar}/>\n                    <div className=\"profile__avatar-edit\"/>\n                </button>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button className=\"profile__edit-button\" onClick={props.onEditProfile}/>\n                    <p className=\"profile__about-me\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__add-button\" onClick={props.onAddPlace}/>\n            </section>\n            <section className=\"elements\">\n                <ul className=\"elements__list\">\n                    {props.cards.map((card, index) => (\n                            <Card key={index} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike}\n                                  onCardDelete={props.onCardDelete}/>\n                        )\n                    )}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nfunction Login(props) {\n\n    const emailRef = React.useRef();\n    const passwordRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onSignin({\n            email: emailRef.current.value,\n            password: passwordRef.current.value\n        });\n\n        emailRef.current.value = '';\n        passwordRef.current.value = '';\n    }\n\n    return (\n        <section className=\"login\">\n            <form action=\"#\" className=\"form form_authentication\" onSubmit={handleSubmit} noValidate>\n                <h2 className=\"form__title form__title_authentication\">Log in</h2>\n                <label className=\"form__label form__label_authenticate-email\" htmlFor=\"login-email-input\">\n                    <input ref={emailRef} id=\"login-email-input\" type=\"email\"\n                           name=\"name\" className=\"form__field form__field_authentication-email\" placeholder=\"Email\"\n                           required/>\n                </label>\n                <label htmlFor=\"login-password-input\" className=\"form__label form__label_authenticate-password\">\n                    <input ref={passwordRef} id=\"login-password-input\" type=\"password\" name=\"aboutme\"\n                           className=\"form__field form__field_authentication-password\"\n                           placeholder=\"Password\" required/>\n                </label>\n                <button type=\"submit\" className=\"form__save form__save_authenticate\">Log in</button>\n                <Link to=\"/signup\" className=\"form__save-hint\">Not a member yet? Sign up here!</Link>\n            </form>\n        </section>\n    );\n}\n\nexport default Login;\n","import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nfunction Register(props) {\n\n    const emailRef = React.useRef();\n    const passwordRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onSignup({\n            email: emailRef.current.value,\n            password: passwordRef.current.value\n        });\n\n        emailRef.current.value = '';\n        passwordRef.current.value = '';\n    }\n\n    return (\n        <section className=\"register\">\n            <form action=\"#\" className=\"form form_authentication\" onSubmit={handleSubmit} noValidate>\n                <h2 className=\"form__title form__title_authentication\">Sign up</h2>\n                <label className=\"form__label form__label_authenticate-email\" htmlFor=\"login-email-input\">\n                    <input ref={emailRef} id=\"login-email-input\" type=\"email\"\n                           name=\"name\" className=\"form__field form__field_authentication-email\" placeholder=\"Email\"\n                           required/>\n                </label>\n                <label htmlFor=\"login-password-input\" className=\"form__label form__label_authenticate-password\">\n                    <input ref={passwordRef} id=\"login-password-input\" type=\"password\" name=\"aboutme\"\n                           className=\"form__field form__field_authentication-password\"\n                           placeholder=\"Password\" required/>\n                </label>\n                <button type=\"submit\" className=\"form__save form__save_authenticate\">Sign up</button>\n                <Link to=\"/signin\" className=\"form__save-hint\">Already a member? Log in here!</Link>\n            </form>\n        </section>\n    );\n}\n\nexport default Register;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n    return (\n        <Route exact path={props.path}>\n            {\n                () => props.loggedIn ? props.children : <Redirect to='./signin' />\n            }\n        </Route>\n    )}\n\nexport default ProtectedRoute;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\n    const isOpenClass = props.isOpen ? \"overlay_opened\" : \"\";\n    const submitInactiveClass = props.isSubmitActive ? \"\" : \"form__save_inactive\";\n\n    return (\n        <section className={`overlay overlay_${props.name} ${isOpenClass}`}>\n            <div className={`overlay__container overlay__container_${props.name}`}>\n                <form action=\"#\" className=\"form\" noValidate onSubmit={props.onSubmit}>\n                    <h2 className=\"form__title\">{props.title}</h2>\n                    {props.children}\n                    <button type=\"submit\" className={`form__save ${submitInactiveClass}`} >{props.submitText}</button>\n                </form>\n                <button className=\"overlay__close-button\" onClick={props.onClose}/>\n            </div>\n        </section>\n    );\n}\n\nexport default PopupWithForm;","import React, {useState} from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = useState('');\n    const [nameErrorMessage, setNameErrorMessage] = useState(null);\n\n    const [description, setDescription] = useState('');\n    const [descriptionErrorMessage, setDescriptionErrorMessage] = useState('');\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleNameChange(event) {\n        setName(event.target.value);\n    }\n\n    function validateName(event) {\n        if (!event.target.validity.valid) {\n            setNameErrorMessage(event.target.validationMessage);\n        } else {\n            setNameErrorMessage(null);\n        }\n    }\n\n    function handleDescriptionChange(event) {\n        setDescription(event.target.value);\n    }\n\n    function validateDescription(event) {\n        if (!event.target.validity.valid) {\n            setDescriptionErrorMessage(event.target.validationMessage);\n        } else {\n            setDescriptionErrorMessage(null);\n        }\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        props.onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    const showNameError =  nameErrorMessage ? \"form__field-error_active\" : \"\";\n    const showDescriptionError =  descriptionErrorMessage ? \"form__field-error_active\" : \"\";\n    const isSubmitActive = !showNameError && !showDescriptionError;\n\n    return (\n        <PopupWithForm name=\"profile\" title=\"Edit profile\" isOpen={props.isOpen}\n                       onClose={props.onClose} onSubmit={handleSubmit} isSubmitActive={isSubmitActive} submitText={props.submitText}>\n            <label className=\"form__label form__label_title\" htmlFor=\"profile-name-input\">\n                <input id=\"profile-name-input\" type=\"text\"\n                       name=\"name\" className=\"form__field form__field_title\"\n                       minLength=\"2\" maxLength=\"40\" pattern=\"[a-zA-Z-\\s]*\" value={name} onChange={handleNameChange} onInput={validateName} required/>\n                <span id=\"profile-name-input-error\" className={`form__field-error ${showNameError}`}>{nameErrorMessage}</span>\n            </label>\n            <label htmlFor=\"profile-aboutme-input\" className=\"form__label form__label_detail\">\n                <input id=\"profile-aboutme-input\" type=\"text\" name=\"aboutme\"\n                       className=\"form__field form__field_detail\"\n                       minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange} onInput={validateDescription} required/>\n                <span id=\"profile-aboutme-input-error\" className={`form__field-error ${showDescriptionError}`}>{descriptionErrorMessage}</span>\n            </label>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;","import React, {useState} from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\n    const avatarLinkRef = React.useRef();\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: avatarLinkRef.current.value\n        });\n    }\n\n    function validateLink(event) {\n        if (!event.target.validity.valid) {\n            setErrorMessage(event.target.validationMessage);\n        } else {\n            setErrorMessage(null);\n        }\n    }\n\n    const showError =  errorMessage ? \"form__field-error_active\" : \"\";\n    const isSubmitActive = !showError;\n\n    return (\n        <PopupWithForm name=\"avatarpic\" title=\"Change Userpic\" isSubmitActive={isSubmitActive} isOpen={props.isOpen}\n                       onClose={props.onClose} onSubmit={handleSubmit} submitText={props.submitText}>\n            <label className=\"form__label form__label_title\" htmlFor=\"avatarpic-link-input\">\n                <input ref={avatarLinkRef} id=\"avatarpic-link-input\" type=\"url\" name=\"avatarpic-link\"\n                       className=\"form__field form__field_title\" placeholder=\"Image Link\" onInput={validateLink} required/>\n                <span id=\"avatarpic-link-input-error\" className={`form__field-error ${showError}`}>{errorMessage}</span>\n            </label>\n        </PopupWithForm>\n    );\n\n}\n\nexport default EditAvatarPopup;","import React, {useState} from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n    const [title, setTitle] = useState('');\n    const [titleErrorMessage, setTitleErrorMessage] = useState(null);\n\n    const [link, setLink] = useState('');\n    const [linkErrorMessage, setLinkErrorMessage] = useState(null);\n\n\n    function handleTitleChange(event) {\n        setTitle(event.target.value);\n    }\n\n    function validateTitle(event) {\n        if (!event.target.validity.valid) {\n            setTitleErrorMessage(event.target.validationMessage);\n        } else {\n            setTitleErrorMessage(null);\n        }\n    }\n\n    function handleLinkChange(event) {\n        setLink(event.target.value);\n    }\n\n    function validateLink(event) {\n        if (!event.target.validity.valid) {\n            setLinkErrorMessage(event.target.validationMessage);\n        } else {\n            setLinkErrorMessage(null);\n        }\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        props.onAddPlace({\n            title: title,\n            link: link,\n        });\n    }\n\n    const showTitleError =  titleErrorMessage ? \"form__field-error_active\" : \"\";\n    const showLinkError =  linkErrorMessage ? \"form__field-error_active\" : \"\";\n    const isSubmitActive = !showTitleError && !showLinkError;\n\n    return (\n        <PopupWithForm name=\"place\" title=\"New place\" isOpen={props.isOpen} isSubmitActive={isSubmitActive} onClose={props.onClose} onSubmit={handleSubmit} submitText={props.submitText}>\n            <label className=\"form__label form__label_title\" htmlFor=\"place-title-input\">\n                <input id=\"place-title-input\" type=\"text\" name=\"image-title\"\n                       className=\"form__field form__field_title\" placeholder=\"Title\" minLength=\"2\"\n                       maxLength=\"40\" value={title} onChange={handleTitleChange} onInput={validateTitle} required/>\n                <span id=\"place-title-input-error\" className={`form__field-error ${showTitleError}`}>{titleErrorMessage}</span>\n            </label>\n            <label className=\"form__label form__label_detail\" htmlFor=\"place-link-input\">\n                <input id=\"place-link-input\" type=\"url\" name=\"image-link\"\n                       className=\"form__field form__field_detail\" placeholder=\"Image Link\" value={link}\n                       onChange={handleLinkChange} onInput={validateLink} required/>\n                <span id=\"place-link-input-error\" className={`form__field-error ${showLinkError}`}>{linkErrorMessage}</span>\n            </label>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n    return (\n        <section className={`overlay overlay_image ${props.card ? \"overlay_opened\" : \"\"}`}>\n            <div className=\"overlay__container overlay__container_image\">\n                <img className=\"image\" alt=\"image title\" src={props.card && props.card.link} />\n                <p className=\"image__title\">{props.card && props.card.name}</p>\n                <button className=\"overlay__close-button\" onClick={props.onClose}></button>\n            </div>\n        </section>\n    );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmationPopup(props) {\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onConfirmation(props.confirmedObject);\n    }\n\n    return (\n        <PopupWithForm name=\"confirmation\" title=\"Are you sure?\" isOpen={props.isOpen} isSubmitActive={true}\n                       onClose={props.onClose} onSubmit={handleSubmit} submitText={props.submitText}/>\n    );\n}\n\nexport default ConfirmationPopup;","import React from 'react';\nimport successIcon from '../images/success.svg';\nimport failureIcon from '../images/failure.svg';\n\nfunction InfoToolTip(props) {\n\n    const message = props.success ? \"Success! You have now been registered.\" : \"Oops, something went wrong! Please try again.\";\n    const icon = props.success ? successIcon : failureIcon;\n\n    return (\n        <section className={`overlay overlay_image ${props.isOpen ? \"overlay_opened\" : \"\"}`}>\n            <div className=\"overlay__container overlay__container_message\">\n                <img src={icon} className=\"message__icon\" alt=\"image title\"/>\n                    <p className=\"message__text\">{message}</p>\n                    <button className=\"overlay__close-button\" onClick={props.onClose}></button>\n            </div>\n        </section>\n    );\n}\n\nexport default InfoToolTip;\n","class Api {\n\n    constructor(options) {\n        this.baseUrl = options.baseUrl;\n        this.headers = options.headers;\n    }\n\n    getProfile() {\n        const profileUri = this.baseUrl.concat(\"/users/me\");\n        return this._getResource(profileUri);\n    }\n\n    updateProfile(name, about) {\n        const profileUri = this.baseUrl.concat(\"/users/me\");\n        const body = JSON.stringify({\n            name: name,\n            about: about\n        });\n        return this._sendRequestWithBody(profileUri, body, \"PATCH\");\n    }\n\n    updateProfilePicture(avatarLink) {\n        const profileUri = this.baseUrl.concat(\"/users/me/avatar\");\n        const body = JSON.stringify({\n            avatar: avatarLink\n        });\n        return this._sendRequestWithBody(profileUri, body, \"PATCH\");\n    }\n\n    getInitialCards() {\n        const cardsUri = this.baseUrl.concat(\"/cards\");\n        return this._getResource(cardsUri);\n    }\n\n    addCard(name, link) {\n        const cardsUri = this.baseUrl.concat(\"/cards\");\n        const body = JSON.stringify( {\n            name: name,\n            link: link\n        });\n        return this._sendRequestWithBody(cardsUri, body, \"POST\");\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return isLiked ? this._addLike(cardId) : this._deleteLike(cardId);\n    }\n\n    deleteCard(cardId) {\n        const cardUri = this.baseUrl.concat(\"/cards/\").concat(cardId);\n        return this._sendRequestWithoutBody(cardUri, \"DELETE\");\n    }\n\n    _addLike(cardId) {\n        const likeUri = this.baseUrl.concat(\"/cards/likes/\").concat(cardId);\n        return this._sendRequestWithoutBody(likeUri, \"PUT\");\n    }\n\n    _deleteLike(cardId) {\n        const likeUri = this.baseUrl.concat(\"/cards/likes/\").concat(cardId);\n        return this._sendRequestWithoutBody(likeUri, \"DELETE\");\n    }\n\n    _getResource(uri) {\n        return fetch(uri, {\n            headers: this.headers\n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    _sendRequestWithoutBody(uri, method) {\n        return fetch(uri, {\n            method: method,\n            headers: this.headers\n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    _sendRequestWithBody(uri, body, method) {\n        return fetch(uri, {\n            method: method,\n            headers: this.headers,\n            body: body\n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n}\n\nconst api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n    headers: {\n        \"Authorization\": \"cf0daf24-499f-4e4d-a691-bc6825f65b5e\",\n        \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default api;\n\n","class Authentication {\n\n    constructor(options) {\n        this.baseUrl = options.baseUrl;\n    }\n\n    signup(email, password) {\n        const signupUri = this.baseUrl.concat(\"/signup\");\n        const headers = {\n            \"Content-Type\": \"application/json\"\n        };\n        const body = JSON.stringify({\n            email: email,\n            password: password\n        });\n        return this._sendRequestWithBody(signupUri, headers, body, \"POST\");\n    }\n\n    signin(email, password) {\n        const signinUri = this.baseUrl.concat(\"/signin\");\n        const headers = {\n            \"Content-Type\": \"application/json\"\n        };\n        const body = JSON.stringify({\n            email: email,\n            password: password\n        });\n        return this._sendRequestWithBody(signinUri, headers, body, \"POST\");\n    }\n\n    getMyIdentity(token) {\n        const identityUri = this.baseUrl.concat(\"/users/me\");\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer \".concat(token)\n        };\n        return this._getResource(identityUri, headers)\n    }\n\n    _getResource(uri, headers) {\n        return fetch(uri, {\n            headers: headers\n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    _sendRequestWithBody(uri, headers, body, method) {\n        return fetch(uri, {\n            method: method,\n            headers: headers,\n            body: body\n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n}\n\nconst authentication = new Authentication(\n    {baseUrl: \"https://register.nomoreparties.co\"}\n);\n\nexport default authentication;\n","import React, {useState} from 'react';\nimport {Route, Switch, useHistory, withRouter} from 'react-router-dom';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport InfoToolTip from \"./InfoTooltip\";\nimport api from \"../utils/api\";\nimport authentication from \"../utils/authentication\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {\n    submitSave,\n    submitSaving,\n    submitEdit,\n    submitCreate,\n    submitCreating,\n    submitDelete,\n    submitDeleting\n} from \"../utils/utils\";\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIssEditAvatarPopupOpen] = useState(false);\n    const [isConfirmationPopupOpen, setIsConfirmationPopupOpen] = useState(false);\n    const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n    const [success, setSuccess] = useState(true);\n    const [selectedCard, setSelectedCard] = useState(null);\n    const [deletedCard, setDeletedCard] = useState(null);\n    const [currentUser, setCurrentUser] = useState({});\n    const [cards, setCards] = useState([]);\n    const [submitText, setSubmitText] = useState(\"\");\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [userEmail, setUserEmail] = useState(null);\n    const history = useHistory();\n\n    React.useEffect(() => {\n        api.getProfile().then((myProfile) => {\n            setCurrentUser(myProfile);\n        }).catch((err) => {\n            console.log(err);\n        });\n    }, []);\n\n    React.useEffect(() => {\n        api.getInitialCards().then((cards) => {\n                let initialCards = [];\n                cards.forEach((card) => {\n                    initialCards.push(card);\n                });\n                setCards(initialCards);\n            }\n        ).catch((err) => {\n            console.log(err);\n        });\n    }, []);\n\n    React.useEffect(tokenCheck, []);\n\n    function handleCardLike(card) {\n        // Check one more time if this card was already liked\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        // Send a request to the API and getting the updated card data\n        api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n            // Create a new array based on the existing one and putting a new card into it\n            const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n            // Update the state\n            setCards(newCards);\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleCardDelete(deletedCard) {\n        setSubmitText(submitDeleting);\n        api.deleteCard(deletedCard._id).then(() => {\n            const remainingCards = cards.filter((card) => card._id !== deletedCard._id)\n            setCards(remainingCards);\n            setIsConfirmationPopupOpen(false);\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleEditAvatarClick() {\n        setSubmitText(submitSave);\n        setIssEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setSubmitText(submitSave);\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setSubmitText(submitCreate);\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function confirmDelete(card) {\n        setDeletedCard(card);\n        setSubmitText(submitDelete);\n        setIsConfirmationPopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setSelectedCard(null);\n        setIssEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsInfoToolTipOpen(false);\n    }\n\n    function handleUpdateUser({name, about}) {\n        setSubmitText(submitSaving);\n        api.updateProfile(name, about).then((updateProfile) => {\n            setCurrentUser(updateProfile);\n            setIsEditProfilePopupOpen(false);\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleUpdateAvatar({avatar}) {\n        setSubmitText(submitSaving);\n        api.updateProfilePicture(avatar).then((updateProfile) => {\n            setCurrentUser(updateProfile);\n            setIssEditAvatarPopupOpen(false);\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleAddPlace({title, link}) {\n        setSubmitText(submitCreating);\n        api.addCard(title, link).then((newCard) => {\n            setCards([...cards, newCard]);\n            setIsAddPlacePopupOpen(false);\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleSignup({email, password}) {\n        console.log(email);\n        console.log(password);\n        authentication.signup(email, password).then((res) => {\n            if (res && res.data) {\n                setIsInfoToolTipOpen(true);\n                setSuccess(true);\n                setLoggedIn(true);\n                setUserEmail(res.data.email);\n                history.push('/');\n            }\n        }).catch((err) => {\n            setIsInfoToolTipOpen(true);\n            setSuccess(false);\n        });\n    }\n\n    function handleSignin({email, password}) {\n        authentication.signin(email, password).then((data) => {\n            if (data.token) {\n                setLoggedIn(true);\n                localStorage.setItem('token', data.token);\n                history.push('/');\n            }\n        }).catch((err) => {\n            setIsInfoToolTipOpen(true);\n            setSuccess(false);\n        });\n    }\n\n    function handleLogout() {\n        setLoggedIn(false);\n        localStorage.removeItem('token');\n        history.push('/signin');\n    }\n\n    function tokenCheck() {\n        console.log(\"tokenCheck\");\n        const token = localStorage.getItem('token');\n        if (token) {\n            authentication.getMyIdentity(token).then((res) => {\n                if (res && res.data) {\n                    setLoggedIn(true);\n                    setUserEmail(res.data.email);\n                    history.push('/');\n                }\n            }).catch((err) => {\n                console.log(err);\n            });\n        }\n    }\n\n    return (\n        <div className=\"page\">\n            <CurrentUserContext.Provider value={currentUser}>\n                <Switch>\n                    <Route path=\"/signin\">\n                        <Header loggedIn={loggedIn} email={userEmail} link={{description: 'Sign up', to: '/signup'}}/>\n                        <Login onSignin={handleSignin}/>\n                    </Route>\n                    <Route path=\"/signup\">\n                        <Header loggedIn={loggedIn} email={userEmail} link={{description: 'Log in', to: '/signin'}}/>\n                        <Register onSignup={handleSignup}/>\n                    </Route>\n                    <ProtectedRoute path=\"/\" loggedIn={loggedIn}>\n                        <Header loggedIn={loggedIn} email={userEmail} link={{description: 'Log out', to: '#'}}\n                                onLogout={handleLogout}/>\n                        <Main cards={cards}\n                              onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}\n                              onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick}\n                              onCardLike={handleCardLike}\n                              onCardDelete={confirmDelete}/>\n                    </ProtectedRoute>\n                </Switch>\n                <Footer/>\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} submitText={submitText} onClose={closeAllPopups}\n                                  onUpdateUser={handleUpdateUser}/>\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} submitText={submitText} onClose={closeAllPopups}\n                               onAddPlace={handleAddPlace}/>\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} submitText={submitText} onClose={closeAllPopups}\n                                 onUpdateAvatar={handleUpdateAvatar}/>\n                <ConfirmationPopup isOpen={isConfirmationPopupOpen} onClose={closeAllPopups}\n                                   onConfirmation={handleCardDelete} confirmedObject={deletedCard}\n                                   submitText={submitText}/>\n                <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n                <InfoToolTip isOpen={isInfoToolTipOpen} success={success} onClose={closeAllPopups}/>\n            </CurrentUserContext.Provider>\n        </div>\n    );\n}\n\nexport default withRouter(App);\n","const defaultAvatarPicture = \"https://uploads.innoq.com/variants/8L7UpmhqaTUeq1UnWaqYXMMn/c6102565cc763bd8b0970e3abe89d48675dd7c8c3124b0570a295b43def26f57?response-content-disposition=inline%3B%20filename%3D%22DSC01929_3.jpg%22%3B%20filename%2A%3DUTF-8%27%27DSC01929_3.jpg&response-content-type=image%2Fjpeg&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAJHA5PEZW3OX32LYA%2F20200809%2Feu-central-1%2Fs3%2Faws4_request&X-Amz-Date=20200809T103655Z&X-Amz-Expires=300&X-Amz-SignedHeaders=host&X-Amz-Signature=0d59bb3345b4341f8415cd0e1e6e87b364947e40f853056b93545e62b25a1826\";\nconst submitSave = \"Save\";\nconst submitSaving = \"Saving...\";\nconst submitEdit = \"Edit\";\nconst submitCreate = \"Create\";\nconst submitCreating = \"Creating...\";\nconst submitDelete = \"Delete\";\nconst submitDeleting = \"Deleting...\";\n\nexport {defaultAvatarPicture, submitSave, submitSaving, submitEdit, submitCreate, submitCreating, submitDelete, submitDeleting};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n        <App/>\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}